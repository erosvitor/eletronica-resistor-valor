<!DOCTYPE html>
<!--
 ***************************************************************************************************
 * Descrição: Programa para calcular valor de resistor de 4 faixas.
 * Linguagem: HTML 5 e Javascript
 * Autor: Eros Vitor Bornatowski (erosborna@gmail.com)
 * Data: 08/01/2020
 * Versão: 1.0.0
 ***************************************************************************************************
-->
<html>
<head>
  <meta charset="utf-8" />
  <title>Valor resistor 4 faixas</title>
  <style>
    table {
      border: 1px solid #000;
      border-collapse: collapse;
    }

    table th, td {
      border: 1px solid #000;
      padding: 5px;
      text-align: center;
    }

    table th:first-child, td:first-child {
      text-align: left;
    }

    .col1 { width: 100px; }
    .col2 { width: 80px; }
    .col3 { width: 80px; }
    .col4 { width: 120px; }
    .col5 { width: 120px; background-color: #fff; color: #000; }
  </style>
</head>
<body>
  <h1>Valor resistor 4 faixas</h1>

  <h2>Tabela referência</h2>
  <table>
    <thead>
      <tr>
        <th class="col1">Cor</td>
        <th class="col2">Faixa 1</th>
        <th class="col3">Faixa 2</th>
        <th class="col4">Faixa 3</th>
        <th class="col5">Faixa 4</th>
      </tr>
    </thead>
    <tbody>
      <tr style="background-color: #000000; color: #fff;">
        <td>Preta</td>
        <td>0</td>
        <td>0</td>
        <td>1</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #800000; color: #fff;">
        <td>Marrom</td>
        <td>1</td>
        <td>1</td>
        <td>10</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #FF0000; color: #fff;">
        <td>Vermelha</td>
        <td>2</td>
        <td>2</td>
        <td>100</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #FFA500; color: #000;">
        <td>Laranja</td>
        <td>3</td>
        <td>3</td>
        <td>1000</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #FFFF00; color: #000;">
        <td>Amarela</td>
        <td>4</td>
        <td>4</td>
        <td>10000</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #008000; color: #fff;">
        <td>Verde</td>
        <td>5</td>
        <td>5</td>
        <td>100000</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #0000FF; color: #fff;">
        <td>Azul</td>
        <td>6</td>
        <td>6</td>
        <td>1000000</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #FF00FF; color: #fff;">
        <td>Violeta</td>
        <td>7</td>
        <td>7</td>
        <td>10000000</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #808080; color: #fff;">
        <td>Cinza</td>
        <td>8</td>
        <td>8</td>
        <td>100000000</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #FFFFFF; color: #000;">
        <td>Branca</td>
        <td>9</td>
        <td>9</td>
        <td>1000000000</td>
        <td class="col5">-</td>
      </tr>
      <tr style="background-color: #DAA520; color: #000;">
        <td>Dourado</td>
        <td></td>
        <td></td>
        <td></td>
        <td>+- 5% tolerância</td>
      </tr>
      <tr style="background-color: #bab8b5; color: #000;">
        <td>Prata</td>
        <td></td>
        <td></td>
        <td></td>
        <td>+- 10% tolerância</td>
      </tr>
    </tbody>
  </table>

  <h2>Calculando valor do resistor</h2>
  <label for="fld-cor-faixa1">Cor da faixa 1:</label>
  <select id="fld-cor-faixa1">
    <option value="preto">Preto</option>
    <option value="marrom">Marrom</option>
    <option value="vermelho">Vermelho</option>
    <option value="laranja">Laranja</option>
    <option value="amarelo">Amarelo</option>
    <option value="verde">Verde</option>
    <option value="azul">Azul</option>
    <option value="violeta">Violeta</option>
    <option value="cinza">Cinza</option>
    <option value="branco">Branco</option>
  </select>
  <br/><br/>

  <label for="fld-cor-faixa2">Cor da faixa 2:</label>
  <select id="fld-cor-faixa2">
    <option value="preto">Preto</option>
    <option value="marrom">Marrom</option>
    <option value="vermelho">Vermelho</option>
    <option value="laranja">Laranja</option>
    <option value="amarelo">Amarelo</option>
    <option value="verde">Verde</option>
    <option value="azul">Azul</option>
    <option value="violeta">Violeta</option>
    <option value="cinza">Cinza</option>
    <option value="branco">Branco</option>
  </select>
  <br/><br/>

  <label for="fld-cor-faixa3">Cor da faixa 3:</label>
  <select id="fld-cor-faixa3">
    <option value="preto">Preto</option>
    <option value="marrom">Marrom</option>
    <option value="vermelho">Vermelho</option>
    <option value="laranja">Laranja</option>
    <option value="amarelo">Amarelo</option>
    <option value="verde">Verde</option>
    <option value="azul">Azul</option>
    <option value="violeta">Violeta</option>
    <option value="cinza">Cinza</option>
    <option value="branco">Branco</option>
  </select>
  <br/><br/>

  <button type="button" onclick="javascript:calcularValorResistor()">Calcular</button>
</body>
</html>

<script>
var multiplicador = [1, 10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000];

function calcularValorResistor() {
  var corFaixa1 = document.getElementById("fld-cor-faixa1").value;
  var corFaixa2 = document.getElementById("fld-cor-faixa2").value;
  var corFaixa3 = document.getElementById("fld-cor-faixa3").value;

  var valorFaixa1 = obterValorFaixa(corFaixa1);
  var valorFaixa2 = obterValorFaixa(corFaixa2);
  var valorFaixa3 = obterValorFaixa(corFaixa3);

  var tmp = parseInt(valorFaixa1.toString() + valorFaixa2.toString());
 
  var valorResistor = tmp * multiplicador[valorFaixa3];

  var referencia = "R";
  if (valorResistor >= 1000000) {
    valorResistor = valorResistor / 1000000;
    referencia = "M";
  } else if (valorResistor >= 1000) {
    valorResistor = valorResistor / 1000;
    referencia = "K";
  }

  var valorResistorStr = null;
  var decimals = parseInt((valorResistor - parseInt(valorResistor)) * 100);
  if (decimals > 0) {
    valorResistorStr = parseFloat(valorResistor).toFixed(1);
  } else {
    valorResistorStr = parseFloat(valorResistor).toFixed(0);
  }
  alert("Valor do resistor: " + valorResistorStr + referencia + " ohms" + "\n\n" +
        "Observação:\n" +
        "A quarta faixa indica a tolerância do resistor. Se a cor for dourada, " +
        "a tolerância será de 5% para mais ou para menos. Caso seja prata, a " +
        "tolerância será de 10% para mais ou para menos.");
}

function obterValorFaixa(cor) {
 var valor = 0;
  switch (cor) {
    case "preto": valor = 0; break;
    case "marrom": valor = 1; break;
    case "vermelho": valor = 2; break;
    case "laranja": valor = 3; break;
    case "amarelo": valor = 4; break;
    case "verde": valor = 5; break;
    case "azul": valor = 6; break;
    case "violeta": valor = 7; break;
    case "cinza": valor = 8; break;
    case "branco": valor = 9; break;
  }
  return valor;
}
</script>
